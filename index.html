<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta property="og:title"
        content="Ranni: Taming Text-to-Image Diffusion for Accurate Instruction Following" />
    <meta property="og:url" content="https://ranni.github.io/" />
    <meta property="og:image" content="static/images/head.png" />
    <meta property="og:image:width" content="2048" />
    <meta property="og:image:height" content="1152" />
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Ranni</title>
    <script>
        var x = window.innerWidth;
        function resizeFresh(){
            if(x!=window.innerWidth)
                location.reload();
        }
    </script>
    <link rel="icon" type="image/x-icon" href="static/images/ranni_logo3.png">
    <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

    <link rel="stylesheet" href="static/css/bulma.min.css">
    <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
    <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
    <link rel="stylesheet" href="static/css/index.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
    <script defer src="static/js/fontawesome.all.min.js"></script>
    <script src="static/js/bulma-carousel.min.js"></script>
    <script src="static/js/index.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

<body onresize="resizeFresh()">

    <section class="hero banner">
        <div class="hero-body">
            <div class="container is-max-desktop">
                <div class="columns is-centered">
                    <div class="column has-text-centered">
                        <h1 class="title is-1 publication-title">
                            <i class="pixart-alpha-icon"></i>
                            <span style="color: rgb(167, 175, 246);">Ranni:</span><br />
                            Taming Text-to-Image Diffusion for </br> Accurate Instruction Following</h1>
                        <div class="is-size-5 publication-authors">
                            <!-- Paper authors -->
                            <span class="author-block">
                                <a href="https://scholar.google.com/citations?user=mZwJLeUAAAAJ" target="_blank">Yutong
                                    Feng</a><sup>1</sup>,</span>
                            <span class="author-block">
                                <a href="https://scholar.google.com/citations?user=BwdpTiQAAAAJ" target="_blank">Biao
                                    Gong</a><sup>1</sup>,</span>
                            <span class="author-block">
                                <a href="https://di-chen.me" target="_blank">Di
                                    Chen</a><sup>1</sup>,</span>
                            <span class="author-block">
                                <a href="https://shenyujun.github.io/" target="_blank">
                                    Yujun
                                    Shen</a><sup>2</sup>,
                            </span>
                            <span class="author-block">
                                <a href="https://scholar.google.com/citations?user=8zksQb4AAAAJ" target="_blank">
                                    Yu
                                    Liu</a><sup>1</sup>,</span>
                            <span class="author-block">
                                <a href="https://scholar.google.com/citations?user=64zxhRUAAAAJ" target="_blank">
                                    Jingren
                                    Zhou</a><sup>1</sup></span>                            
                        </div>

                        <div class="is-size-5 publication-authors">
                            <span class="author-block"><sup>1</sup>Alibaba Group</span>
                            &nbsp;
                            <span class="author-block"><sup>2</sup>Ant Group</span>
                        </div>

                        <div class="column has-text-centered">
                            <div class="publication-links">
                                <span class="link-block">
                                    <a href="https://arxiv.org/pdf/2311.17002.pdf" target="_blank"
                                        class="external-link button is-normal is-rounded is-white">
                                        <span class="icon">
                                            <i class="fas fa-file-pdf"></i>
                                        </span>
                                        <span>arXiv</span>
                                    </a>
                                </span>
                                <span class="link-block">
                                    <a href="https://huggingface.co/papers/2311.17002" target="_blank"
                                        class="external-link button is-normal is-rounded is-white">
                                        <span class="icon">ðŸ¤—</span>
                                        <span>Paper page</span>
                                    </a>
                                </span>       
                                <!-- <span class="link-block">
                                    <a href="https://arxiv.org/abs/2311.17002" target="_blank"
                                        class="external-link button is-normal is-rounded is-white">
                                        <span class="icon">
                                            <i class="ai ai-arxiv"></i>
                                        </span>
                                        <span>arXiv</span>
                                    </a>
                                </span>                            -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<!--     <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-menu">
            <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
            <div class="navbar-item has-dropdown is-hoverable">
                <a class="navbar-link">
                More Research
                </a>
                <div class="navbar-dropdown">
                <a class="navbar-item" href="https://ranni-t2i.github.io/Ranni">
                    Ranni
                </a>
                <a class="navbar-item" href="https://simm-t2i.github.io/SimM">
                    SimM
                </a>
                <a class="navbar-item" href="https://adi-t2i.github.io/ADI">
                    ADI
                </a>
                </div>
                
            </div>
            </div>
        </div>
    </nav>    -->
    
    <!-- Image carousel -->
    <section class="hero is-small">
        <div class="hero-body">
            <div class="container">
                <div id="results-carousel" class="carousel results-carousel">
                    <div class="card">
                        <div class="card-image">
                            <video class="video-center" controls muted playsinline>
                                <source src="https://cloud.video.taobao.com/play/u/null/p/1/e/6/t/1/439394933060.mp4" type="video/mp4" class="video_style">
                            </video>
                        </div>
                        <div class="card-content has-text-centered">Chatting based generation.</div>
                    </div>
                    <div class="card">
                        <div class="card-image">
                            <video class="video-center" controls muted playsinline>
                                <source src="https://cloud.video.taobao.com/play/u/null/p/1/e/6/t/1/439399369347.mp4" type="video/mp4" class="video_style">
                            </video>
                        </div>
                        <div class="card-content has-text-centered">Continuous generation with boxes.</div>
                    </div>
                    <div class="card">
                        <div class="card-image">
                            <video class="video-center" controls muted playsinline>
                                <source src="https://cloud.video.taobao.com/play/u/null/p/1/e/6/t/1/439386909074.mp4" type="video/mp4" class="video_style">
                            </video>
                        </div>
                        <div class="card-content has-text-centered">Continuous generation with attributes.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End image carousel -->

    <!-- Paper abstract -->
    <section class="section hero is-light">
        <div class="container is-max-desktop">
            <div class="columns is-centered has-text-centered">
                <div class="column is-four-fifths">
                    <h2 class="title is-3">Abstract</h2>
                    <div class="content has-text-justified">
                        <p>
                            Existing text-to-image (T2I) diffusion models usually struggle in interpreting complex prompts, 
                            especially those with quantity, object-attribute binding, and multi-subject descriptions. 
                            In this work, we introduce a semantic panel as the middleware in decoding texts to images, 
                            supporting the generator to better follow instructions. 
                            The panel is obtained through arranging the visual concepts parsed from the input text by the aid of large language models, 
                            and then injected into the denoising network as a detailed control signal to complement the text condition. 
                            To facilitate text-to-panel learning, we come up with a carefully designed semantic formatting protocol, 
                            accompanied by a fully-automatic data preparation pipeline. Thanks to such a design, our approach, 
                            which we call Ranni, manages to enhance a pre-trained T2I generator regarding its textual controllability. 
                            More importantly, the introduction of the generative middleware brings a more convenient form of interaction 
                            (i.e., directly adjusting the elements in the panel or using language instructions) and further allows users to finely customize their generation, 
                            based on which we develop a practical system and showcase its potential in continuous generation and chatting-based editing.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- End paper abstract -->

    <section class="hero is-small">
        <div class="hero-body">
            <div class="container is-max-desktop">
                <!-- <h2 class="title is-3">Samples generated by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span></h2> -->
                <h2 class="title is-3">More Samples</h2>
                <p>
                    Samples generated by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span> with different interaction manners, 
                    including <b>(a) direct generation</b> with accurate prompt following,  
                    <b>(b) continuous generation</b> with progressive refinement, 
                    and <b>(c) chatting-based generation</b> with text instructions.
                </p>
                <img loading="lazy" src="https://img.alicdn.com/imgextra/i3/O1CN01xBhIK925QDJb0ZGDw_!!6000000007520-0-tps-2630-1754.jpg" alt="teaser" />
                <hr>
                <p>
                    Samples generated by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span> on <b>quantity-awareness</b> prompts.
                </p>
                <img loading="lazy" src="https://img.alicdn.com/imgextra/i2/O1CN01Qu6AeE1O2NDsiibza_!!6000000001647-0-tps-2630-1194.jpg" alt="count" />
                <hr>
                <p>
                    Samples generated by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span> on <b>spatial relationship</b> prompts.
                </p>
                <img loading="lazy" src="./static/images/samples/spatial.jpg" alt="count" />    
                <hr>
                <p>
                    Samples generated by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span> on <b>attribute binding</b> prompts, 
                    including the <b>(a) color binding</b> and <b>(b) texture binding</b>. 
                    For clear comparison, the random seed is fixed to preserve the spatial arrangement in one row.
                </p>
                <img loading="lazy" src="./static/images/samples/attribute.jpg" alt="count" />                                                  
            </div>
        </div>
    </section>


    <section class="hero is-small">
        <div class="hero-body">
            <div class="container is-max-desktop">
                <!-- <h2 class="title is-3">Samples generated by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span></h2> -->
                <h2 class="title is-3">Editing Results</h2>
                <p>
                    The editing results and corresponding panel update for each <b>unit operation</b>.
                </p>
                <img loading="lazy" src="./static/images/editing/op.jpg" alt="teaser" />
                <hr>
                <p>
                    Examples of <b>color editing</b> by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span>.
                </p>
                <img loading="lazy" height="auto" width="50%" src="./static/images/editing/color.jpg" alt="count" />
                <hr>
                <p>
                    Examples of <b>shape editing</b> by <i class="pixart-alpha-icon"></i><span style="color: rgb(72, 87, 220);">Ranni</span>. 
                    The blue arrows indicate the direction of keypoints moving.
                </p>
                <img loading="lazy" height="auto" width="50%" src="./static/images/editing/shape.jpg" alt="count" />                                                     
            </div>
        </div>
    </section>    

    <!--BibTex citation -->
    <section class="section" id="BibTeX">
        <div class="container is-max-desktop content">
            <h2 class="title">BibTeX</h2>
            <pre><code>@article{Ranni2024,
    title={Ranni: Taming Text-to-Image Diffusion for Accurate Instruction Following}, 
    author={Yutong Feng and Biao Gong and Di Chen and Yujun Shen and Yu Liu and Jingren Zhou},
    year={2023},
    eprint={2311.17002},
    archivePrefix={arXiv},
    primaryClass={cs.CV}
}</code></pre>
        <span class="link-block">
            <a href="https://ranni-t2i.github.io/Ranni" target="_blank"
                class="external-link button is-normal is-rounded is-black">
                <span class="icon">
                    <img src="./static/images/github-mark-white.png" alt="">
                </span>
                <span>Ranni</span>
            </a>
        </span>
        <span class="link-block">
            <a href="https://simm-t2i.github.io/SimM" target="_blank"
                class="external-link button is-normal is-rounded is-black">
                <span class="icon">
                    <img src="./static/images/github-mark-white.png" alt="">
                </span>
                <span>SimM</span>
            </a>
        </span>
        <span class="link-block">
            <a href="https://adi-t2i.github.io/ADI" target="_blank"
                class="external-link button is-normal is-rounded is-black">
                <span class="icon">
                    <img src="./static/images/github-mark-white.png" alt="">
                </span>
                <span>ADI</span>
            </a>
        </span>                
        </div>
    </section>
    <!--End BibTex citation -->


    <footer class="footer">
        <div class="container">
            <div class="columns is-centered">
                <div class="column is-8">
                    <div class="content">
                        <p>
                            This page was built using the <a
                                href="https://github.com/eliahuhorwitz/Academic-project-page-template"
                                target="_blank">Academic Project Page Template</a> which was adopted from theÂ <a
                                href="https://nerfies.github.io" target="_blank">Nerfies</a>Â project page.
                            You are free to borrow the of this website, we just ask that you link back to this page in
                            the footer. <br> This website is licensed under a <a rel="license"
                                href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative
                                Commons Attribution-ShareAlike 4.0 International License</a>.
                        </p>
                        <p class="has-text-centered">Total clicks: <span id="busuanzi_value_site_pv"></span></p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

</body>

</html>
